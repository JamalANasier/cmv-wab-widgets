{"version":3,"sources":["Bookmarks.js"],"names":["define","declare","_WidgetBase","Bookmarks","json","cookie","lang","declaredClass","postCreate","this","inherited","arguments","bookmarks","bookmarkItems","undefined","parse","map","id","editable","mixin","domNode","connect","setBookmarks","stringify","toJson","expires","_export"],"mappings":";;;;;AAAAA,QACI,qBACA,oBACA,uBACA,YACA,cACA,kBACA,4CACD,SAAUC,EAASC,EAAaC,EAAWC,EAAMC,EAAQC,GAExD,MAAOL,IAASC,IACZK,cAAe,sBACfC,WAAY,WACRC,KAAKC,UAAUC,UACf,IAAIC,GAAYH,KAAKG,SACrBH,MAAKI,cAAgBR,EAAO,iBACDS,SAAvBL,KAAKI,cACLJ,KAAKI,iBAELJ,KAAKI,cAAgBT,EAAKW,MAAMN,KAAKI,eAGzCJ,KAAKG,UAAY,GAAIT,IACjBa,IAAKP,KAAKO,IACVC,GAAIR,KAAKQ,GAAK,QACdC,SAAUT,KAAKS,SACfN,UAAWN,EAAKa,MAAMV,KAAKI,cAAeD,IAC3CH,KAAKW,SAERX,KAAKY,QAAQZ,KAAKG,UAAW,SAAU,gBACvCH,KAAKY,QAAQZ,KAAKG,UAAW,WAAY,iBAE7CU,aAAc,WACVjB,EAAO,gBAAiBD,EAAKmB,UAAUd,KAAKG,UAAUY,WAClDC,QAAS,OAGjBC,QAAS,WACL,MAAOtB,GAAKmB,UAAUd,KAAKG,UAAUY","file":"Bookmarks.js","sourcesContent":["define([\r\n    'dojo/_base/declare',\r\n    'dijit/_WidgetBase',\r\n    'esri/dijit/Bookmarks',\r\n    'dojo/json',\r\n    'dojo/cookie',\r\n    'dojo/_base/lang',\r\n    'xstyle/css!./Bookmarks/css/Bookmarks.css'\r\n], function (declare, _WidgetBase, Bookmarks, json, cookie, lang) {\r\n\r\n    return declare([_WidgetBase], {\r\n        declaredClass: 'gis.digit.Bookmarks',\r\n        postCreate: function () {\r\n            this.inherited(arguments);\r\n            var bookmarks = this.bookmarks; // from the options passed in\r\n            this.bookmarkItems = cookie('bookmarkItems');\r\n            if (this.bookmarkItems === undefined) {\r\n                this.bookmarkItems = [];\r\n            } else {\r\n                this.bookmarkItems = json.parse(this.bookmarkItems);\r\n            }\r\n\r\n            this.bookmarks = new Bookmarks({\r\n                map: this.map,\r\n                id: this.id + '_esri',\r\n                editable: this.editable,\r\n                bookmarks: lang.mixin(this.bookmarkItems, bookmarks)\r\n            }, this.domNode);\r\n\r\n            this.connect(this.bookmarks, 'onEdit', 'setBookmarks');\r\n            this.connect(this.bookmarks, 'onRemove', 'setBookmarks');\r\n        },\r\n        setBookmarks: function () {\r\n            cookie('bookmarkItems', json.stringify(this.bookmarks.toJson()), {\r\n                expires: 365\r\n            });\r\n        },\r\n        _export: function () {\r\n            return json.stringify(this.bookmarks.toJson());\r\n        }\r\n    });\r\n});"]}