{"version":3,"sources":["Transparency.js"],"names":["define","declare","lang","array","query","domStyle","PopupMenuItem","TooltipDialog","HorizontalSlider","HorizontalRuleLabels","layer","constructor","options","mixin","this","postCreate","inherited","arguments","transparencySlider","value","opacity","minimum","maximum","discreteValues","intermediateChanges","showButtons","onChange","hitch","setOpacity","forEach","id","img","set","rule","labels","style","bottomDecoration","startup","popup","content","connectorNode"],"mappings":";;;;;AACAA,QACI,qBACA,kBACA,mBACA,aACA,iBACA,sBACA,sBACA,8BACA,mCACD,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAGA,MAAOR,GAAQK,GACXI,MAAO,KACPC,YAAa,SAAUC,GACnBA,EAAUA,MACVV,EAAKW,MAAMC,KAAMF,IAErBG,WAAY,WACRD,KAAKE,UAAUC,UACf,IAAIC,GAAqB,GAAIV,IACzBW,MAAOL,KAAKJ,MAAMU,QAClBC,QAAS,EACTC,QAAS,EACTC,eAAgB,GAChBC,qBAAqB,EACrBC,aAAa,EACbC,SAAUxB,EAAKyB,MAAMb,KAAM,SAAUK,GACjCL,KAAKJ,MAAMkB,WAAWT,GACtBhB,EAAM0B,QAAQzB,EAAM,IAAMU,KAAKJ,MAAMoB,GAAK,qBAAsB,SAAUC,GACtE1B,EAAS2B,IAAID,EAAK,UAAWZ,SAIrCc,EAAO,GAAIxB,IACXyB,QAAS,OAAQ,MAAO,MACxBC,MAAO,6BACRjB,EAAmBkB,iBACtBH,GAAKI,UACLnB,EAAmBmB,UACnBvB,KAAKwB,MAAQ,GAAI/B,IACb4B,MAAO,eACPI,QAASrB,IAEbb,EAAS2B,IAAIlB,KAAKwB,MAAME,cAAe,UAAW,QAClD1B,KAAKwB,MAAMD","file":"Transparency.js","sourcesContent":["/* transparency component */\r\ndefine([\r\n    'dojo/_base/declare',\r\n    'dojo/_base/lang',\r\n    'dojo/_base/array',\r\n    'dojo/query',\r\n    'dojo/dom-style',\r\n    'dijit/PopupMenuItem',\r\n    'dijit/TooltipDialog',\r\n    'dijit/form/HorizontalSlider',\r\n    'dijit/form/HorizontalRuleLabels'\r\n], function (\r\n    declare,\r\n    lang,\r\n    array,\r\n    query,\r\n    domStyle,\r\n    PopupMenuItem,\r\n    TooltipDialog,\r\n    HorizontalSlider,\r\n    HorizontalRuleLabels\r\n) {\r\n\r\n    return declare(PopupMenuItem, {\r\n        layer: null,\r\n        constructor: function (options) {\r\n            options = options || {};\r\n            lang.mixin(this, options);\r\n        },\r\n        postCreate: function () {\r\n            this.inherited(arguments);\r\n            var transparencySlider = new HorizontalSlider({\r\n                value: this.layer.opacity,\r\n                minimum: 0,\r\n                maximum: 1,\r\n                discreteValues: 21,\r\n                intermediateChanges: true,\r\n                showButtons: false,\r\n                onChange: lang.hitch(this, function (value) {\r\n                    this.layer.setOpacity(value);\r\n                    array.forEach(query('.' + this.layer.id + '-layerLegendImage'), function (img) {\r\n                        domStyle.set(img, 'opacity', value);\r\n                    });\r\n                })\r\n            });\r\n            var rule = new HorizontalRuleLabels({\r\n                labels: ['100%', '50%', '0%'],\r\n                style: 'height:1em;font-size:75%;'\r\n            }, transparencySlider.bottomDecoration);\r\n            rule.startup();\r\n            transparencySlider.startup();\r\n            this.popup = new TooltipDialog({\r\n                style: 'width:200px;',\r\n                content: transparencySlider\r\n            });\r\n            domStyle.set(this.popup.connectorNode, 'display', 'none');\r\n            this.popup.startup();\r\n        }\r\n    });\r\n});"]}